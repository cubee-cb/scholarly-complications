pico-8 cartridge // http://www.pico-8.com
version 38
__lua__
-- hit effect prototyper
-- for beatem - 🐱 cubee

pal(split"133,2,137,4,5,6,7,8,9,3,142,130,134,140,143",1)
poke(0x5f2e,1)

--[[


t goes from 1 to 0.5


]]

cartdata"cubg-beatem-hiteffects"

duration=10
ti=duration
sel=dget(0)
if(sel==0)sel=1

 effects={
 	function(x,y,t,c)

 	(t>0.8 and circfill or circ)(x,y,t*6,t>0.8 and 7 or 13)

 	fillp(▒)
 	if(t>0.7)circ(x,y,(1.3-t)*15,9)
	
 	end,
		function(x,y,t)
 	fillp(▒)
		ovalfill(x-t*6,y-3+(t*3)^2,x+t*6,y-t*4,6)

		end,
		function(x,y,t)
 	fillp(░)
		if(t==1)circfill(x,y,10,9)
 	fillp(▒)
		circ(x,y,(1-t*t)*32,7)
	
		end,
		
		function(x,y,t)
		circfill(x,y,t*6,t==1 and 7 or 2)
	
		end,

 }

::l::
cls(1)

if btnp(0) then
 sel-=1
 ti=duration
end
if btnp(1) then
 sel+=1
 ti=duration
end
if(btnp(4) or ti<-5)ti=duration
if(sel>#effects)sel=1
if(sel<1)sel=#effects

dset(0,sel)


if(ti>duration/2)effects[sel](64,64,ti/duration)
fillp()

ti-=1

flip()
goto l

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
